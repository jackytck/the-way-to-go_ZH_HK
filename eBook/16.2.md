# 16.2 誤用字串

當需要對一個字串進行頻繁的操作時，謹記在go語言中字串是不可變的（類似java和c#）。使用諸如`a += b`形式連線字串效率低下，尤其在一個迴圈內部使用這種形式。這會導致大量的記憶體開銷和拷貝。**應該使用一個字元陣列代替字串，將字串內容寫入一個快取中。** 例如以下的程式碼示例：

```go
var b bytes.Buffer
...
for condition {
    b.WriteString(str) // 將字串str寫入快取buffer
}
    return b.String()
```

注意：由於編譯優化和依賴於使用快取操作的字串大小，當迴圈次數大於15時，效率才會更佳。

## 連結

- [目錄](directory.md)
- 上一節：[誤用短宣告導致變數覆蓋](16.1.md)
- 下一節：[發生錯誤時使用defer關閉一個檔案](16.3.md)